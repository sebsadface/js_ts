%%%%%%%%%%%%%%%%%%%%% PACKAGE IMPORTS %%%%%%%%%%%%%%%%%%%%%
\documentclass[11pt]{article}
\usepackage{amsmath, amsfonts, amsthm, amssymb}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{fullpage}       
\usepackage{changepage}
\usepackage{hyperref}
\usepackage{blindtext}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }
\urlstyle{same}

\newenvironment{level}%
{\addtolength{\itemindent}{2em}}%
{\addtolength{\itemindent}{-2em}}

\usepackage{amsmath,amsthm,amssymb}


\usepackage[x11names, rgb]{xcolor}
\usepackage{graphicx}
\usepackage[nooldvoltagedirection]{circuitikz}
\usetikzlibrary{decorations,arrows,shapes}

\usepackage{datetime}
\usepackage{etoolbox}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{array}
\usepackage{varwidth}
\usepackage{tcolorbox}
\usepackage{circuitikz}
\usepackage[linguistics]{forest}
\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstdefinestyle{mystyle}{
    language=JavaScript,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}
%%%%%%%%%%%%%%%%%%%%%%%% QUESTION # %%%%%%%%%%%%%%%%%%%%%%%%
%% You can ignore this for the most part. Basically it    %%
%% helps number your questions and creates a new page     %%
%% with each question for the aesthetics. It also creates %%
%% parts i.e. (a) (b) (c) for multiple part questions.    %%
%% To use do: \begin{question} ... \end{question}         %%
%% and: \begin{part} ... \end{part}                       %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\parindent}{0pt}
\setlength{\parskip}{5pt plus 1pt}

\providetoggle{questionnumbers}
\settoggle{questionnumbers}{true}
\newcommand{\noquestionnumbers}{
    \settoggle{questionnumbers}{false}
}

\newcounter{questionCounter}
\newenvironment{question}[2][\arabic{questionCounter}]{%
    \ifnum\value{questionCounter}=0 \else {\newpage}\fi%
    \setcounter{partCounter}{0}%
    \vspace{.25in} \hrule \vspace{0.5em}%
    \noindent{\bf \iftoggle{questionnumbers}{Question #1: }{}#2}%
    \addtocounter{questionCounter}{1}%
    \vspace{0.8em} \hrule \vspace{.10in}%
}

\newcounter{partCounter}[questionCounter]
\renewenvironment{part}[1][\alph{partCounter}]{%
    \addtocounter{partCounter}{1}%
    \vspace{.10in}%
    \begin{indented}%
       {\bf (#1)} %
}{\end{indented}}

\def\indented#1{\list{}{}\item[]}
\let\indented=\endlist
\def\show#1{\ifdefempty{#1}{}{#1\\}}

%%%%%%%%%%%%%%%%%%%%%%%% SHORT CUTS %%%%%%%%%%%%%%%%%%%%%%%%
%% This is just to improve your quality of life. Instead  %%
%% of having to type long things, you can type short      %%
%% things. Ex: \IMP instead of \rightarrow to get ->      %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\IMP{\rightarrow}
\def\AND{\wedge}
\def\OR{\vee}
\def\BI{\leftrightarrow}
\def\DIFF{\setminus}
\def\SUB{\subseteq}

\newcolumntype{C}{>{\centering\arraybackslash}m{1.5cm}}
\renewcommand\qedsymbol{$\blacksquare$}

%%%%%%%%%%%%%%%%%%%%%%%% ANSWER BOX %%%%%%%%%%%%%%%%%%%%%%%%
%% This will improve the quality of life for your TA.     %%
%% Use \begin{answer} and \end{answer} to surround your   %%
%% answers so it will be easier to see. You can adjust    %%
%% the background and frame colors below as needed.       %%
%% Here is the manual to help: tinyurl.com/tcolorbox-man  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtcolorbox{answer}
{
  colback   = green!5!white,    % Background color
  colframe  = green!75!black,   % Outline color
  box align = center,           % Align box on text line
  varwidth upper,               % Enables multi line input
  hbox                          % Bounds box to text width
}

%%%%%%%%%%%%%%%%% Identifying Information %%%%%%%%%%%%%%%%%
%% For 311, we'd rather you DIDN'T tell us who you are   %%
%% in your homework so that we're not biased when        %%
%% So, even if you fill this information in, it will not %%
%% show up in the document unless you uncomment \header  %%
%% below                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\myhwname}{Homework 1}
\newcommand{\myname}{Sebastian Liu}
\newcommand{\myemail}{ll57@cs.washington.edu}
\newcommand{\mysection}{AD}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%% Document Options %%%%%%%%%%%%%%%%%%%%%%
\noquestionnumbers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%% WORK BELOW %%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{center}
    \textbf{Homework 1 Written} \bigskip
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 1 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{1. The Level Is in the Details (10 points)}
   \begin{part}
        \begin{answer}
            \textbf{Correctness Level:} -1

            \textbf{Explanation:} Since the function is defined on pair of colors where each color is either red, green, or blue, 
            so we have $2 \cdot 3 = 6$ total possible inputs. Because we can use exhaustive testing on the small number of inputs, 
            the function requires a correctness level of -1.

        \end{answer}
   \end{part}
   
   \begin{part}
        \begin{answer}
            \textbf{Correctness Level:} 0

            \textbf{Explanation:} There are infinitely many inputs. Because the function only contains a single returning statement 
            and the calculation inside the function is described by the mathematical function straight from the specification, the 
            function translate the behavior straight from the spec requires a correctness level of 0.
        \end{answer}
   \end{part}

   \begin{part}
        \begin{answer}
            It falls into level 3 of correctness. Since we have infinitely many inputs and a declarative specification, the correctness
             level cannot be -1 or 0. Because we do not know what level of mutation the function has, we have to take into account the 
             most complex case possible (array/object mutation). Therefore, the program falls into level 3 of correctness.
        \end{answer}
    \end{part}

    \begin{part}
        \begin{answer}
            It fits into level 2 of correctness. Since we have infinitely many inputs and a declarative specification, the correctness
            level cannot be -1 or 0. Because we have local variable mutation but not heap-allocated data mutation (a.k.a. array/object mutation),
            the program fits into level 2 of correctness.
        \end{answer}
    \end{part}

    \newpage

    \begin{part}
        \begin{answer}
            It's not ok to assume that the first problem has a lower correctness level, because the correctness level depends on whether the
            specification describes the calculation or not (i.e. is non-declarative or not). If both specifications are declarative, meaning we
            cannot translate our program straight from the specification, both problems require 1-3 level of correctness depending on their implementations.
            The length of the specification doesn't necessarily affect the level of correctness.
        \end{answer}
    \end{part}
\end{question}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 2 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{2. Test Friend Forever (12 points)}
    \begin{part}
        \begin{lstlisting}
            function f(a : number, b : boolean) : [number, boolean] {
                const num : number = 2 * a;
                const bool : boolean = true;

                return [num, bool];
            }
        \end{lstlisting}
    \end{part}   

    \begin{part}
        \begin{answer}
            Given that we don't know the implementation of the program, we need to use opaque-box testing and come up with test cases base on the information
            we have about the input and output (both are lists of integers). I would argue we need at least three tests to have some level of confidence that
            the program is correct to some extent. The three test inputs could be: 1. an empty list (i.e. special cases for a list), 2. an arbitrarily-sized 
            list of negative integers (i.e. one subdomain of integers), 3. an list of non-negative integers with a different size (i.e. the other 
            subdomain of integers).\\

            However, only using opaque-box testing is usually not enough, to have a better level confidence on the correctness of the program, we need to look
            at the implementation of the program and use clear-box testing. 
        \end{answer}
    \end{part}   
 
    \begin{part}
        \begin{answer}
            Because replacing the expression might change the boundary/edge cases, the subdomains, the number of branches, or the number of recursive calls,
            which will affect of the effectiveness of our original test inputs (i.e. the old test inputs might not cover the subdomains and boundaries 
            of the new expression). Therefore, when we replace the expression we might need to re-evaluate the implementation of the new expression 
            and pick test inputs that covers all the subdomains of the new code. \\
            
            For example, if the original expression was "if ($x > 0$) \{ return 1 \} else \{return 0\}", a set of valid test inputs could be \{1, 10, 0, -1\}.
            If we were to change the expression to be "if ($x > 100$) \{ return 1 \} else \{return 0\}", we need to change the inputs to something like 
            \{101, 110, 100, 99\} because the old input doesn't cover the boundary cases of the new expression which are 100, 99, 101. 
        \end{answer}
    \end{part} 

    \newpage

    \begin{part}
        \begin{answer}
            
        \end{answer}
    \end{part}   

    \begin{part}
        \begin{answer}
            
        \end{answer}
    \end{part}   

    \begin{part}
        \begin{answer}
            
        \end{answer}
    \end{part}   
\end{question}

\end{document}
