%%%%%%%%%%%%%%%%%%%%% PACKAGE IMPORTS %%%%%%%%%%%%%%%%%%%%%
\documentclass[11pt]{article}
\usepackage{amsmath, amsfonts, amsthm, amssymb}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{fullpage}       
\usepackage{changepage}
\usepackage{hyperref}
\usepackage{blindtext}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }
\urlstyle{same}

\newenvironment{level}%
{\addtolength{\itemindent}{2em}}%
{\addtolength{\itemindent}{-2em}}

\usepackage{amsmath,amsthm,amssymb}


\usepackage[x11names, rgb]{xcolor}
\usepackage{graphicx}
\usepackage[nooldvoltagedirection]{circuitikz}
\usetikzlibrary{decorations,arrows,shapes}

\usepackage{datetime}
\usepackage{etoolbox}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{array}
\usepackage{varwidth}
\usepackage{tcolorbox}
\usepackage{circuitikz}
\usepackage[linguistics]{forest}
\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstdefinestyle{mystyle}{
    language=JavaScript,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}
%%%%%%%%%%%%%%%%%%%%%%%% QUESTION # %%%%%%%%%%%%%%%%%%%%%%%%
%% You can ignore this for the most part. Basically it    %%
%% helps number your questions and creates a new page     %%
%% with each question for the aesthetics. It also creates %%
%% parts i.e. (a) (b) (c) for multiple part questions.    %%
%% To use do: \begin{question} ... \end{question}         %%
%% and: \begin{part} ... \end{part}                       %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\parindent}{0pt}
\setlength{\parskip}{5pt plus 1pt}

\providetoggle{questionnumbers}
\settoggle{questionnumbers}{true}
\newcommand{\noquestionnumbers}{
    \settoggle{questionnumbers}{false}
}

\newcounter{questionCounter}
\newenvironment{question}[2][\arabic{questionCounter}]{%
    \ifnum\value{questionCounter}=0 \else {\newpage}\fi%
    \setcounter{partCounter}{0}%
    \vspace{.25in} \hrule \vspace{0.5em}%
    \noindent{\bf \iftoggle{questionnumbers}{Question #1: }{}#2}%
    \addtocounter{questionCounter}{1}%
    \vspace{0.8em} \hrule \vspace{.10in}%
}

\newcounter{partCounter}[questionCounter]
\renewenvironment{part}[1][\alph{partCounter}]{%
    \addtocounter{partCounter}{1}%
    \vspace{.10in}%
    \begin{indented}%
       {\bf (#1)} %
}{\end{indented}}

\def\indented#1{\list{}{}\item[]}
\let\indented=\endlist
\def\show#1{\ifdefempty{#1}{}{#1\\}}

%%%%%%%%%%%%%%%%%%%%%%%% SHORT CUTS %%%%%%%%%%%%%%%%%%%%%%%%
%% This is just to improve your quality of life. Instead  %%
%% of having to type long things, you can type short      %%
%% things. Ex: \IMP instead of \rightarrow to get ->      %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\IMP{\rightarrow}
\def\AND{\wedge}
\def\OR{\vee}
\def\BI{\leftrightarrow}
\def\DIFF{\setminus}
\def\SUB{\subseteq}

\newcolumntype{C}{>{\centering\arraybackslash}m{1.5cm}}
\renewcommand\qedsymbol{$\blacksquare$}

%%%%%%%%%%%%%%%%%%%%%%%% ANSWER BOX %%%%%%%%%%%%%%%%%%%%%%%%
%% This will improve the quality of life for your TA.     %%
%% Use \begin{answer} and \end{answer} to surround your   %%
%% answers so it will be easier to see. You can adjust    %%
%% the background and frame colors below as needed.       %%
%% Here is the manual to help: tinyurl.com/tcolorbox-man  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtcolorbox{answer}
{
  colback   = green!5!white,    % Background color
  colframe  = green!75!black,   % Outline color
  box align = center,           % Align box on text line
  varwidth upper,               % Enables multi line input
  hbox                          % Bounds box to text width
}

%%%%%%%%%%%%%%%%% Identifying Information %%%%%%%%%%%%%%%%%
%% For 311, we'd rather you DIDN'T tell us who you are   %%
%% in your homework so that we're not biased when        %%
%% So, even if you fill this information in, it will not %%
%% show up in the document unless you uncomment \header  %%
%% below                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\myhwname}{Homework 2}
\newcommand{\myname}{Sebastian Liu}
\newcommand{\myemail}{ll57@cs.washington.edu}
\newcommand{\mysection}{AD}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%% Document Options %%%%%%%%%%%%%%%%%%%%%%
\noquestionnumbers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%% WORK BELOW %%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{center}
    \textbf{Homework 2 Written} \bigskip
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 1 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{1. We Find the Defendant Quilty (16 points)}
   \begin{part}[b]
    \begin{answer}
        part(a) falls into the correctness level of -1, because each function
        only has one input/configuration. To ensure the correctness, we need 
        exhaustive testing, in this case, look at the patterns generated by the
        code and check if they are consistent with the patterns on the specification.
    \end{answer}
   \end{part}

   \begin{part}[d]
    \begin{answer}
        part(c) falls into the correctness level of -1, because each function
        only has 3 possible inputs. To ensure the correctness, we need 
        exhaustive testing, in this case, look at the color and patterns generated by the
        code and check if they are consistent with the input color and the patterns on the specification.
    \end{answer}
   \end{part}

   \begin{part}[f]
    \begin{answer}
        part(c) falls into the correctness level of 0, because each function
        is straight from the specification, but have infinite possible inputs. 
        To ensure the correctness, we need heuristic testing, use type checking,
        and reasoning through code reviews. We want to write the code to be as 
        similar to the mathematical description as possible, because we don't want
        to introduce new possible errors on top of the specification, if we wrote code
        that differs from the spec, we would need level 1 of correctness instead of level 0.
    \end{answer}
   \end{part}
\end{question}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 2 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{2. Twice to Meet You (16 points)}
    \begin{part}
        \begin{answer}
            \begin{align*}
                sum(L) &= sum(cons(a, cons(b, nil))) \tag{Def of $L$} \\
                &= a + sum(cons(b, nil)) \tag{Def of $sum$} \\
                &= a + b + sum(nil) \tag{Def of $sum$} \\
                &= a + b + 0 \tag{Def of $sum$} \\
                &= a + b
            \end{align*}
        \end{answer}
    \end{part}

    \begin{part}
        \begin{answer}
            \begin{align*}
                sum(twice\_evens(L)) &= sum(twice\_evens(cons(a, cons(b, nil)))) \tag{Def of $L$} \\
                &= sum(cons(2a, twice\_odds(cons(b, nil)))) \tag{Def of $twice\_evens$} \\
                &= sum(cons(2a, cons(b, twice\_evens(nil)))) \tag{Def of $twice\_odds$} \\
                &= sum(cons(2a, cons(b, nil))) \tag{Def of $twice\_evens$} \\
                &= 2a + sum(cons(b, nil)) \tag{Def of $sum$} \\
                &= 2a + b + sum(nil) \tag{Def of $sum$} \\
                &= 2a + b + 0 \tag{Def of $sum$} \\
                &= 2a + b
            \end{align*}
        \end{answer}
    \end{part}

    \begin{part}
        \begin{answer}
            \begin{align*}
                sum(twice\_odds(L)) &= sum(twice\_odds(cons(a, cons(b, nil)))) \tag{Def of $L$} \\
                &= sum(cons(a, twice\_evens(cons(b, nil)))) \tag{Def of $twice\_odds$} \\
                &= sum(cons(a, cons(2b, twice\_odds(nil)))) \tag{Def of $twice\_evens$} \\
                &= sum(cons(a, cons(2b, nil))) \tag{Def of $twice\_odds$} \\
                &= a + sum(cons(2b, nil)) \tag{Def of $sum$} \\
                &= a + 2b + sum(nil) \tag{Def of $sum$} \\
                &= a + 2b + 0 \tag{Def of $sum$} \\
                &= a + 2b
            \end{align*}
        \end{answer}
    \end{part}

    \newpage 

    \begin{part}
        \begin{answer}
            \begin{align*}
                x + y &= sum(twice\_evens(L)) + y \tag{Def of $x$} \\
                &= sum(twice\_evens(L)) + sum(twice\_odds(L)) \tag{Def of $y$} \\
                &= (2a + b) + sum(twice\_odds(L)) \tag{Since $sum(twice\_evens(L)) = 2a + b$} \\
                &= (2a + b) + (a + 2b) \tag{Since $sum(twice\_odds(L)) = a + 2b$}\\
                &= 3a + 3b \\
                &= 3(a+b) \\
                &= 3 sum(L) \tag{Since $sum(L) = a + b$}
            \end{align*}
        \end{answer}
    \end{part}
\end{question}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 3 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{3. Skinny Flipping (16 points)}
    \begin{part}[a]
        \begin{answer}
            \begin{align*}
                \textbf{func\;\;} &sflip\_vert(nil) := nil \\
                &sflip\_vert(\{shape: s, color: c, corner: NW\}) := \{shape: s, color: c, corner: SW\} \tag{for any $s : Shape$ and $c : Color$} \\
                &sflip\_vert(\{shape: s, color: c, corner: SW\}) := \{shape: s, color: c, corner: NW\} \tag{for any $s : Shape$ and $c : Color$} \\
                &sflip\_vert(\{shape: s, color: c, corner: NE\}) := \{shape: s, color: c, corner: SE\} \tag{for any $s : Shape$ and $c : Color$} \\
                &sflip\_vert(\{shape: s, color: c, corner: SE\}) := \{shape: s, color: c, corner: NE\} \tag{for any $s : Shape$ and $c : Color$} 
            \end{align*}
        \end{answer}
       \end{part}

       \begin{part}[c]
        \begin{answer}
            \begin{align*}
               &nil &&nil \\
               &cons(a,nil) &&cons(s(a), nil) \\
               &cons(a, cons(b,nil)) &&cons(s(a), cons(s(b), nil)) \\
               &cons(a, cons(b, cons(c, nil))) &&cons(s(a), cons(s(b), cons(s(c), nil)))\\
               &...
            \end{align*}
        \end{answer}
       \end{part}

       \begin{part}[d]
        \begin{answer}
            \begin{align*}
                \textbf{func\;\;} &rflip\_vert(rnil) &&:= rnil \\
                &rflip\_vert(rcons(s, R)) &&:= rcons(sflip\_vert(s), rflip\_vert(R)) \tag{for any $s : Square$ and $R : Row$}  
            \end{align*}
        \end{answer}
       \end{part}
\newpage
       \begin{part}[f]
        \begin{answer}
            \begin{align*}
                &nil &&nil \\
                &cons(u,nil) &&cons(r(u), nil) \\
                &cons(u, cons(v,nil)) &&cons(r(v), cons(r(u), nil)) \\
                &cons(u, cons(v, cons(w, nil))) &&cons(r(w), cons(r(v), cons(r(u), nil)))\\
                &...
             \end{align*}
        \end{answer}
       \end{part}

       \begin{part}[g]
        \begin{answer}
            \begin{align*}
                \textbf{func\;\;} &qflip\_vert(qnil) &&:= qnil \\
                &qflip\_vert(qcons(r, Q)) &&:= qconcat(qflip\_vert(Q), qcons(rflip\_vert(r),qnil)) \tag{for any $r : Row$ and $Q : Quilt$}  
            \end{align*}
        \end{answer}
       \end{part}
\end{question}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 4 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{4. Flip Service (16 points)}
    \begin{part}[a]
        \begin{answer}
            \begin{align*}
                \textbf{func\;\;} &sflip\_horz(nil) := nil \\
                &sflip\_horz(\{shape: s, color: c, corner: NW\}) := \{shape: s, color: c, corner: NE\} \tag{for any $s : Shape$ and $c : Color$} \\
                &sflip\_horz(\{shape: s, color: c, corner: SW\}) := \{shape: s, color: c, corner: SE\} \tag{for any $s : Shape$ and $c : Color$} \\
                &sflip\_horz(\{shape: s, color: c, corner: NE\}) := \{shape: s, color: c, corner: NW\} \tag{for any $s : Shape$ and $c : Color$} \\
                &sflip\_horz(\{shape: s, color: c, corner: SE\}) := \{shape: s, color: c, corner: SW\} \tag{for any $s : Shape$ and $c : Color$} 
            \end{align*}
        \end{answer}
       \end{part}

       \begin{part}[c]
        \begin{answer}
            \begin{align*}
                \textbf{func\;\;} &rflip\_horz(rnil) &&:= rnil \\
                &rflip\_horz(rcons(s, R)) &&:= rconcat(rflip\_horz(R), rcons(sflip\_horz(s),rnil)) \tag{for any $s : Square$ and $R : Row$}  
            \end{align*}
        \end{answer}
       \end{part}

       \begin{part}[e]
        \begin{answer}
            \begin{align*}
                \textbf{func\;\;} &qflip\_horz(qnil) &&:= qnil \\
                &qflip\_horz(qcons(r, Q)) &&:= qcons(rflip\_horz(r), qflip\_horz(Q)) \tag{for any $r : Row$ and $Q : Quilt$}  
            \end{align*}
        \end{answer}
       \end{part}

       \begin{part}[h]
        \begin{answer}
            Since symmetrize is already tested, part(g) falls into the correctness level of -1. To test if we correctly included symmetrize
            in index.tsx, we need exhaustively test all 4 patterns with and without "symmetrize" request (8 possible cases total). 
            In this case, we need to look at the patterns generated by the code without symmetrize request and check if they are consistent 
            with the patterns in the spec, then we include symmetrize request and check again if the patterns change.
        \end{answer}
       \end{part}
\end{question}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 5 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{5. Swap, Drop, and Roll (16 points)}
    \begin{part}
        \begin{answer}
            \begin{align*}
                swap(swap(cons(x, nil))) &= swap(cons(x, nil)) \tag{Def of $swap$} \\
                &= cons(x, nil) \tag{Def of $swap$}
            \end{align*}
        \end{answer}
       \end{part}

       \begin{part}
        \begin{answer}
            \begin{align*}
                swap(swap(cons(x, cons(y, R)))) &= swap(cons(y, cons(x, swap(R)))) \tag{Def of $swap$} \\
                &= cons(x, cons(y, swap(swap(R)))) \tag{Def of $swap$}
            \end{align*}
        \end{answer}
       \end{part}

       \begin{part}
        \begin{answer}
            \begin{align*}
                swap(swap(L)) &= swap(swap(cons(s, cons(t, cons(u, cons(v, cons(w, nil))))))) \tag{Def of $L$} \\ \\
                &= cons(s, cons(t, swap(swap(cons(u, cons(v, cons(w, nil))))))) \tag{Using part(b) with x = s, y = t, and R = cons(u, cons(v, cons(w, nil)))} \\ \\
                &= cons(s, cons(t, cons(u, cons(v, swap(swap(cons(w, nil))))))) \tag{Using part(b) with x = u, y = v, and R = cons(cons(w, nil))}\\\\
                &= cons(s, cons(t, cons(u, cons(v, cons(w, nil))))) \tag{Using part(a) with x = w} \\ \\
                &= L \tag{Def of $L$}
            \end{align*}
        \end{answer}
       \end{part}
\newpage
       \begin{part}
        \begin{answer}
            \begin{align*}
                swap(swap(cons(1, cons(2, L)))) &= swap(swap(cons(1, cons(2, cons(a, cons(b, cons(c, nil))))))) \tag{Def of $L$} \\\\
                &= cons(1, cons(2, cons(a, cons(b, cons(c, nil))))) \tag{Using part(c) with L = cons(1, cons(2, cons(a, cons(b, cons(c, nil)))))} \\\\
                &= cons(1, cons(2, L)) \tag{Def of $L$}
            \end{align*}
        \end{answer}
       \end{part}
\end{question}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 6 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{6. Quilt To Last (20 points)}
    \begin{part}[a]
        \begin{answer}
        
        \end{answer}
       \end{part}

       \begin{part}[i]
        \begin{answer}
        
        \end{answer}
       \end{part}
\end{question}

%%%%%%%%%%%%%%%%%%%%%%%% Question# 7 %%%%%%%%%%%%%%%%%%%%%%%%
\begin{question}{7. Extra Credit: Cycle-babble (0 points)}
    \begin{part}
        \begin{answer}
        
        \end{answer}
       \end{part}

       \begin{part}
        \begin{answer}
        
        \end{answer}
       \end{part}
\end{question}

\end{document}